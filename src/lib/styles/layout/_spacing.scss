@layer base {
	:is(header, main, footer) {
		@apply relative;

		[data-role='background'] {
			@apply absolute inset-0 z-0;
			@apply bg-cover bg-no-repeat bg-center;
		}

		section {
			&:where(:first-of-type) {
				@apply pt-xxxl;
			}
			&:where(:last-of-type) {
				@apply pb-xxxl;
			}

			@apply relative py-xxl;

			&:not(:has([data-role='background'])) {
				@apply container p-xxl;
			}

			&:has([data-role='background']) {
				> :not([data-role='background']) {
					@apply container block px-xxl relative;
				}
			}
		}

		:where(%display-heading) {
			&:is(:first-child) {
				@apply mt-0;
			}

			&:is(%subtitled) {
				@apply mb-sm;
			}

			&:is(%suptitled) {
				@apply mt-sm;
			}

			&:where(h1, .text-hero) {
				@apply mt-xxl;
				@apply mb-lg;
			}

			&:where(h2, .text-display) {
				@apply mt-xl;
				@apply mb-lg;
			}
		}

		:where(%heading) {
			&:is(:first-child) {
				@apply mt-0;
			}

			&:is(%subtitled) {
				@apply mb-xxs;
			}

			&:is(%suptitled) {
				@apply mt-xxs;
			}

			&:where(h1, .text-primary) {
				@apply mt-xxl;
				@apply mb-lg;
			}
			&:where(h2, .text-secondary) {
				@apply mt-xl;
				@apply mb-lg;
			}
			&:where(h3, .text-tertiary) {
				@apply mt-lg;
				@apply mb-md;
			}
			&:where(h4, .text-heading) {
				@apply mt-md;
				@apply mb-md;
			}
			&:where(h5, .text-heading) {
				@apply mt-md;
				@apply mb-md;
			}
			&:where(h6, .text-heading) {
				@apply mt-sm;
				@apply mb-sm;
			}
		}

		[role='doc-subtitle'] {
			@apply inline-block;
		}

		[role='doc-subtitle'] {
			&:is(:last-child) {
				@apply mb-0;
			}

			&:is(.text-hero + *) {
				@apply mb-xxl;
			}
			&:is(.text-display + *) {
				@apply mb-xl;
			}

			&:where(:is(h1, .text-primary) + *) {
				@apply mb-lg;
			}
			&:where(:is(h2, .text-secondary) + *) {
				@apply mb-lg;
			}
			&:where(:is(h3, .text-tertiary) + *) {
				@apply mb-md;
			}
			&:where(:is(h4, .text-heading) + *) {
				@apply mb-md;
			}
			&:where(:is(h5, .text-heading) + *) {
				@apply mb-md;
			}
			&:where(:is(h6, .text-heading) + *) {
				@apply mb-sm;
			}
		}

		[role='doc-subtitle'] {
			&:is(:first-child) {
				@apply mt-0;
			}

			&:is(&:has(+ .text-hero)) {
				@apply mt-xxl;
			}
			&:is(&:has(+ .text-display)) {
				@apply mt-xl;
			}

			&:where(&:has(+ :is(h1, .text-primary))) {
				@apply mt-xxl;
			}
			&:where(&:has(+ :is(h2, .text-secondary))) {
				@apply mt-xl;
			}
			&:where(&:has(+ :is(h3, .text-tertiary))) {
				@apply mt-lg;
			}
			&:where(&:has(+ :is(h4, .text-heading))) {
				@apply mt-md;
			}
			&:where(&:has(+ :is(h5, .text-heading))) {
				@apply mt-md;
			}
			&:where(&:has(+ :is(h6, .text-heading))) {
				@apply mt-sm;
			}
		}

		:where(p, ul, ol) {
			&:not(:last-child) {
				@apply mb-lg;
			}
		}
	}
}
